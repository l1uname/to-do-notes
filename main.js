(()=>{"use strict";var e={};function t(){document.querySelector("#date").value="",document.querySelector("#time").value="",document.querySelector("#priority").value="",document.querySelector("#description").value=""}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p;var r=document.querySelector(".btn-open-form"),i=document.querySelector("#closeTodoFormButton"),c=document.querySelector(".btn-add-todo-item"),d=document.querySelector(".modal"),a=document.querySelector("#searchbox"),u=document.querySelector(".sort-items-by-type"),s=document.querySelector(".btn-start-now"),l=document.querySelector(".welcome-section"),m=document.querySelector(".todo-items"),v=function(){return document.querySelector(".todo-items").innerHTML=""},y=function(){return document.querySelector(".todo-item-description")},p=JSON.parse(localStorage.getItem("todoItems"))||[];function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;if(v(),t(),e.length>0){l.classList.add("hidden"),localStorage.setItem("hideWelcome","true");var o,n=((o=document.createElement("div")).className="todo-item-description",o.innerHTML="\n        <div>Num:</div>\n        <div>Time:</div>\n        <div>Priority:</div>\n        <div>Description:</div>\n        <div>Actions</div>\n    ",o);m.appendChild(n),e.forEach((function(e,t){var o=function(e,t){var o=document.createElement("div");o.className="todo-item";var n,r="";if(e.date){var i=e.date.split("-");r="".concat(i[2],"/").concat(i[1]," ").concat(i[0])}return o.innerHTML='\n            <div class="todo-number">#'.concat(t+1,'</div>\n            <div class="todo-time-date">').concat(e.time," ").concat(r,'</div>\n            <div class="todo-priority">').concat((n=e.priority,n.charAt(0).toUpperCase()+n.slice(1)),'</div>\n            <div class="todo-description">').concat(e.description,'</div>\n            <div class="todo-actions">\n                <button class="todo-edit" data-index="').concat(t,'">Edit</button>\n                <button class="todo-done">Done</button>\n            </div>\n        '),o}(e,t);m.appendChild(o);var n,r=o.querySelector(".todo-edit"),i=o.querySelector(".todo-done");r.addEventListener("click",(function(e){!function(e){var t=p[e];document.querySelector("#date").value=t.date,document.querySelector("#time").value=t.time,document.querySelector("#priority").value=t.priority,document.querySelector("#description").value=t.description,c.textContent="Edit Todo",c.setAttribute("data-index",e),c.removeEventListener("click",S),c.addEventListener("click",g,{once:!0}),d.classList.remove("hidden"),document.querySelector("#description").focus()}(e.target.getAttribute("data-index"))})),clearTimeout(n),o.classList.remove("todo-item-done","todo-item-remove"),i.textContent="Done",i.addEventListener("click",(function(){"Done"===i.textContent?(o.classList.add("todo-item-done"),i.textContent="Undo",r.disabled=!0,n=setTimeout((function(){o.classList.add("todo-item-remove"),setTimeout((function(){if(o.classList.contains("todo-item-remove")&&(p.splice(t,1),localStorage.setItem("todoItems",JSON.stringify(p)),o.remove(),0===p.length)){var e=y();e&&e.remove(),l.classList.remove("hidden")}}),2500)}),1e3),document.addEventListener("keydown",(function(e){"Escape"===e.key&&i.click()}),{once:!0})):(clearTimeout(n),o.classList.remove("todo-item-done","todo-item-remove"),i.textContent="Done",r.disabled=!1)}))}))}else{l.classList.remove("hidden"),localStorage.setItem("hideWelcome","false");var r=y();r&&r.remove()}}function S(e){e.preventDefault();var t={date:document.querySelector("#date").value,time:document.querySelector("#time").value,priority:document.querySelector("#priority").value,description:document.querySelector("#description").value};p.push(t),f(),localStorage.setItem("todoItems",JSON.stringify(p)),d.classList.add("hidden"),c.textContent="Add Todo",c.removeEventListener("click",g),c.addEventListener("click",S,{once:!0})}function g(e){e.preventDefault();var t=c.getAttribute("data-index");p[t]={date:document.querySelector("#date").value,time:document.querySelector("#time").value,priority:document.querySelector("#priority").value,description:document.querySelector("#description").value},f(),localStorage.setItem("todoItems",JSON.stringify(p)),d.classList.add("hidden"),c.textContent="Add Todo",c.removeEventListener("click",g),c.addEventListener("click",S,{once:!0})}window.addEventListener("load",(function(){f();var e=localStorage.getItem("selectedSort");if(e){u.value=e;var t=new Event("change");u.dispatchEvent(t)}"true"===localStorage.getItem("hideWelcome")&&l.classList.add("hidden")}));var h=function(){var e=new Date,o=e.toISOString().substring(0,10),n=e.toTimeString().substring(0,5);d.classList.remove("hidden"),t(),c.textContent="Add Todo",c.removeEventListener("click",g),c.addEventListener("click",S,{once:!0}),document.querySelector("#date").value=o,document.querySelector("#time").value=n,document.querySelector("#priority").value="high",document.querySelector("#description").focus()};r.addEventListener("click",h),s.addEventListener("click",h),i.addEventListener("click",(function(){d.classList.add("hidden"),c.textContent="Add Todo",c.removeEventListener("click",g),c.addEventListener("click",S,{once:!0})})),document.querySelector(".todo-form").addEventListener("submit",(function(e){e.preventDefault(),"Add Todo"===c.textContent?S(e):g(e)})),a.addEventListener("input",(function(e){var t=e.target.value.toLowerCase();f(p.filter((function(e){return e.description.toLowerCase().includes(t)})))})),u.addEventListener("change",(function(e){var t,n=e.target.value;"date"===n?t=o(p).sort((function(e,t){var o=new Date(e.date.split("-").join(","));return new Date(t.date.split("-").join(","))-o})):"priority"===n?t=o(p).sort((function(e,t){var o={high:3,medium:2,low:1};return o[t.priority.toLowerCase()]-o[e.priority.toLowerCase()]})):"time"===n&&(t=o(p).sort((function(e,t){return t.time.localeCompare(e.time)}))),f(t),localStorage.setItem("selectedSort",n)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&d.classList.add("hidden")})),document.addEventListener("click",(function(e){e.target===d&&d.classList.add("hidden")}))})();